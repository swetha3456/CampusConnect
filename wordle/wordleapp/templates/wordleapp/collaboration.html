

<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Collaboration</title>
    
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap"
      rel="stylesheet"
    />
    
    {% load static %}
    <link rel="stylesheet" href="{% static 'wordleapp/collaboration.css' %}" />
  </head>
  <body>
    <nav>
      <div class="navbar">
        <div class="container1 nav-container" style="z-index: 2;">
            <input class="checkbox" type="checkbox" name="" id="" />
            <div class="hamburger-lines">
              <span class="line line1"></span>
              <span class="line line2"></span>
              <span class="line line3"></span>
            </div>  
          <div class="logo">
            <h1></h1>
          </div>
          <div class="menu-items">
            <li><a href="http://127.0.0.1:8000/">Campus Central</a></li>
            <li><a href="http://127.0.0.1:8000/issuecentral/">Issue Center</a></li>
            <li><a href="http://127.0.0.1:8000/lostandfound/">Lost & Found</a></li>
            <li><a href="http://127.0.0.1:8000/collaboration/">Collaboration</a></li>
          </div>
        </div>
      </div>
    </nav>
    <div style="display:flex; flex-direction: row; justify-content: space-between; align-items: center; margin:3%; z-index: -1;">
        <a href="http://127.0.0.1:8000/collaborationform/">
            <button>
              <span aria-hidden="true">Post Issue</span>
              <span></span>
              <span>Post Collaboration</span>
            </button> 
            </a>  
      </div>
    <div class="main">
        {% for collab in collabs %}
        <ul class="cards">
          <li class="cards_item">
            <div class="card">
              
              <div class="card_content">
                <h2 class="card_title">{{ collab.collaboration_type }}</h2>
                <div class="card_text">
                  <p>{{ collab.collaboration_descr }}</p>
                </div>
              </div>
            </div>
          </li>
        </ul>
       
    {% endfor %}
      </div>

      <div class="left">
        <div class="cat">
          <div class="ears1"></div>
          <div class="head1">
            <div class="eyes1"></div>
            <div class="nose1"></div>
          </div>
          <div class="body1">
            <div class="left-paw1"></div>
            <div class="right-paw1"></div>
          </div>
          <div class="tail1"></div>
          <div class="PRlaptop">
            <div class="PRscreen"></div>
            <div class="PRkeyboard"></div>
          </div>
        </div>
      </div>
      <div class="right">
        <div class="dog">
          <div class="ears2"></div>
          <div class="head2">
            <div class="eyes2"></div>
            <div class="nose2"></div>
          </div>
          <div class="body2">
            <div class="left-paw2"></div>
            <div class="right-paw2"></div>
          </div>
          <div class="tail2"></div>
          <div class="ORlaptop">
            <div class="ORscreen"></div>
            <div class="ORkeyboard"></div>
          </div>
        </div>
      </div>
    </body>
</html> -->
<!-- Updated collaboration.html -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collaboration</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'wordleapp/collaboration.css' %}">
</head>
<body>
    <nav>
        <div class="navbar">
            <div class="container1 nav-container">
                <input class="checkbox" type="checkbox" name="" id="" />
                <div class="hamburger-lines">
                    <span class="line line1"></span>
                    <span class="line line2"></span>
                    <span class="line line3"></span>
                </div>
                <div class="menu-items">
                    <li><a href="/">Campus Central</a></li>
                    <li><a href="/issuecentral/">Issue Center</a></li>
                    <li><a href="/lostandfound/">Lost & Found</a></li>
                    <li><a href="/collaboration/">Collaboration</a></li>
                </div>
            </div>
        </div>
    </nav>

    <div class="search-section">
        <input type="text" placeholder="Search by event name, skills..." class="search-bar">
        <button class="search-btn">Search</button>
        <a href="/collaborationform/"><button class="post-btn">Post Collaboration</button></a>
    </div>

    <div class="main">
        {% for collab in collabs %}
        <div class="collab-card">
            <h2>{{ collab.collaboration_type }}</h2>
            <p>{{ collab.collaboration_descr }}</p>
            <p><strong>Skills Preferred:</strong> {{ collab.skills }}</p>
            <p><strong>Required Team Size:</strong> {{ collab.team_size }}</p>
            <p><strong>Deadline:</strong> {{ collab.deadline }}</p>
            <p><strong>Posted By:</strong> {{ collab.author }}</p>
            <button class="request-btn" onclick="openModal('{{ collab.id }}')">Request to Join</button>
        </div>
        {% endfor %}
    </div>

     Request to Join Modal -->
    <!-- <div id="requestModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <form method="post" enctype="multipart/form-data" action="/submit_request/">
                {% csrf_token %}
                <input type="hidden" name="collab_id" id="collab_id">
                <label for="resume">Upload Resume (PDF):</label>
                <input type="file" name="resume" accept=".pdf" required>
                <label for="message">Why do you want to join?</label>
                <textarea name="message" placeholder="Write a short message..."></textarea>
                <button type="submit">Submit Request</button>
            </form>
        </div>
    </div>
    <script>
        function openModal(collabId) {
            document.getElementById('collab_id').value = collabId;
            document.getElementById('requestModal').style.display = 'block';
        }
        function closeModal() {
            document.getElementById('requestModal').style.display = 'none';
        }
    </script>
</body>
</html> --> 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Collaboration</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet" />
    
    {% load static %}
    <link rel="stylesheet" href="{% static 'wordleapp/collaboration.css' %}" />
  </head>
  <body>
    <nav>
      <div class="navbar">
        <div class="container1 nav-container" style="z-index: 2;">
            <input class="checkbox" type="checkbox" name="" id="" />
            <div class="hamburger-lines">
              <span class="line line1"></span>
              <span class="line line2"></span>
              <span class="line line3"></span>
            </div>  
          <div class="logo"><h1></h1></div>
          <div class="menu-items">
            <li><a href="/">Campus Central</a></li>
            <li><a href="/issuecentral/">Issue Center</a></li>
            <li><a href="/lostandfound/">Lost & Found</a></li>
            <li><a href="/collaboration/">Collaboration</a></li>
          </div>
        </div>
      </div>
    </nav>

    <div style="display:flex; flex-direction: row; justify-content: space-between; align-items: center; margin:3%; z-index: -1;">
      <a href="http://127.0.0.1:8000/collaborationform/">
        <button>
          <span aria-hidden="true">Post Issue</span>
          <span></span>
          <span>Post Collaboration</span>
        </button> 
      </a>  
      <input type="text" id="searchBar" placeholder="Search collaborations..." onkeyup="filterCollaborations()">
    </div>
    
    <!-- <div class="main">
        {% for collab in collabs %}
        <ul class="cards">
          <li class="cards_item">
            <div class="card">
              <div class="card_content">
                <h2 class="card_title">{{ collab.event_name }}</h2>
                <p><strong>Organizer:</strong> {{ collab.organizer }}</p>
                <p><strong>Description:</strong> {{ collab.collaboration_descr }}</p>
                <p><strong>Skills Preferred:</strong> {{ collab.skills_preferred }}</p>
                <p><strong>Team Size:</strong> {{ collab.team_size }}</p>
                <p><strong>Deadline:</strong> {{ collab.deadline }}</p>
                <p><strong>Posted By:</strong> {{ collab.posted_by }}</p>
                <button class="join-btn" onclick="openResumeForm(this)">Request to Join</button>
                <div class="resume-form" style="display: none;">
                  <h2>Submit Your Resume</h2>
                  <form>
                    <input type="file" accept=".pdf,.doc,.docx">
                    <button type="submit">Submit</button>
                  </form>
                </div>
              </div>
            </div>
          </li>
        </ul>
        {% endfor %}
    </div> -->
    <div class="main">
      {% for collab in collabs %}
        <ul class="cards">
          <li class="cards_item">
            <div class="card">
              <div class="card_content">
                <h2 class="card_title">{{ collab.event_name }}</h2>
                <p><strong>Organizer:</strong> {{ collab.organizer }}</p>
                <p><strong>Description:</strong> {{ collab.collaboration_descr }}</p>
                <p><strong>Skills Preferred:</strong> {{ collab.skills_preferred }}</p>
                <p><strong>Team Size:</strong> {{ collab.team_size }}</p>
                <p><strong>Deadline:</strong> {{ collab.deadline }}</p>
                <p><strong>Posted By:</strong> {{ collab.posted_by }}</p>
                <p><strong>Contact Email:</strong> {{ collab.contact_email }}</p>
                <button class="join-btn" onclick="openResumeForm(this)">Request to Join</button>
                <div class="resume-form" style="display: none;">
                  <h2>Submit Your Resume</h2>
                  <form>
                    <input type="file" accept=".pdf,.doc,.docx">
                    <button type="submit">Submit</button>
                  </form>
                </div>
                <!-- Show 'View Applications' button only to the author
                {% if collab.posted_by == user %}
                  <button class="view-applications-btn" onclick="toggleApplications({{ collab.id }})">
                    View Applications
                  </button>
                  <div id="applications-{{ collab.id }}" class="applications-list" style="display: none;">
                    <h3>Applications:</h3>
                    {% for application in collab.applications.all %}
                      <div class="application">
                        <p><strong>Applicant:</strong> {{ application.user.username }}</p>
                        <p><strong>Message:</strong> {{ application.message }}</p>
                        <p><strong>Status:</strong> {{ application.get_status_display }}</p>
                        <a href="{{ application.resume.url }}" target="_blank">View Resume</a>
                        <button onclick="window.location.href='{% url 'update_application_status' application.id 'accepted' %}'">Accept</button>
                        <button onclick="window.location.href='{% url 'update_application_status' application.id 'rejected' %}'">Reject</button>
                      </div>
                    {% endfor %}
                  </div>
                {% endif %} -->
              </div>
            </div>
          </li>
        </ul>
      {% endfor %}
    </div>
    
    <script>
      // Function to toggle the visibility of the applications
      function toggleApplications(collabId) {
        const applicationsDiv = document.getElementById("applications-" + collabId);
        if (applicationsDiv.style.display === "none") {
          applicationsDiv.style.display = "block";
        } else {
          applicationsDiv.style.display = "none";
        }
      }
    </script>
    
    <script>
      function filterCollaborations() {
        let input = document.getElementById("searchBar").value.toLowerCase();
        let cards = document.querySelectorAll(".cards_item");
        
        cards.forEach(card => {
          let title = card.querySelector(".card_title").innerText.toLowerCase();
          let description = card.innerText.toLowerCase();
          
          if (title.includes(input) || description.includes(input)) {
            card.style.display = "block";
          } else {
            card.style.display = "none";
          }
        });
      }

      function openResumeForm(button) {
        document.querySelectorAll(".resume-form").forEach(form => form.style.display = "none");
        let form = button.nextElementSibling;
        form.style.display = "block";
      }
    </script>
  <div class="left">
      <div class="cat">
        <div class="ears1"></div>
        <div class="head1">
          <div class="eyes1"></div>
          <div class="nose1"></div>
        </div>
        <div class="body1">
          <div class="left-paw1"></div>
          <div class="right-paw1"></div>
        </div>
        <div class="tail1"></div>
        <div class="PRlaptop">
          <div class="PRscreen"></div>
          <div class="PRkeyboard"></div>
        </div>
      </div>
    </div>
    <div class="right">
      <div class="dog">
        <div class="ears2"></div>
        <div class="head2">
          <div class="eyes2"></div>
          <div class="nose2"></div>
        </div>
        <div class="body2">
          <div class="left-paw2"></div>
          <div class="right-paw2"></div>
        </div>
        <div class="tail2"></div>
        <div class="ORlaptop">
          <div class="ORscreen"></div>
          <div class="ORkeyboard"></div>
        </div>
      </div>
    </div>
  </body>
</html>

